import { Callout } from '@/components/callout'

# Quick Start

This guide provides detailed installation instructions for SeaStack in different environments.

## Development Installation

For local development, follow the [Local Development](/docs/local-development) guide which covers setting up SeaStack on your local machine.

## Production Installation

<Callout type="warning" title="Production Ready Status">
SeaStack is currently in active development. While it can be used in production, please be aware that breaking changes may occur between versions. Always review the changelog before upgrading.
</Callout>

### Using Docker

The recommended way to deploy SeaStack in production is using Docker:

```bash
# Pull the latest image
docker pull ghcr.io/seastackapp/seastack:latest

# Run the container
docker run -d \
  --name seastack \
  -p 3000:3000 \
  -e DATABASE_URL="your_database_url" \
  -e BETTER_AUTH_SECRET="your_auth_secret" \
  -e BETTER_AUTH_URL="https://your-domain.com" \
  -e ENCRYPTION_SECRET="your_encryption_secret" \
  ghcr.io/seastackapp/seastack:latest
```

### Using Docker Compose

Create a `docker-compose.yml` file:

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:16
    environment:
      POSTGRES_PASSWORD: password
      POSTGRES_DB: seastack
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - seastack

  seastack:
    image: ghcr.io/seastackapp/seastack:latest
    ports:
      - "3000:3000"
    environment:
      DATABASE_URL: "postgresql://postgres:password@postgres:5432/seastack"
      BETTER_AUTH_SECRET: "change_me_to_a_secure_secret"
      BETTER_AUTH_URL: "https://your-domain.com"
      ENCRYPTION_SECRET: "change_me_to_a_secure_secret"
    depends_on:
      - postgres
    networks:
      - seastack

volumes:
  postgres_data:

networks:
  seastack:
```

Then run:

```bash
docker compose up -d
```

### Environment Variables

Required environment variables for production:

- `DATABASE_URL`: PostgreSQL connection string
- `BETTER_AUTH_SECRET`: Secret for session encryption (min 32 characters)
- `BETTER_AUTH_URL`: Public URL where SeaStack is accessible
- `ENCRYPTION_SECRET`: Secret for encrypting SSH keys (min 32 characters)

<Callout type="danger" title="Security Critical">
Never use default or weak secrets in production. Generate strong, random secrets using a tool like `openssl rand -base64 32`.
</Callout>

## Building from Source

To build SeaStack from source:

```bash
# Clone the repository
git clone https://github.com/SeaStackApp/sea-stack-app.git
cd sea-stack-app

# Install dependencies
pnpm install

# Build all packages
pnpm build

# The built application will be in apps/web/.next
```

### Building the Docker Image

To build your own Docker image:

```bash
# Build the image
pnpm build-image

# Push to your registry
docker tag ghcr.io/seastackapp/seastack:latest your-registry/seastack:latest
docker push your-registry/seastack:latest
```

## Database Setup

### Initial Migration

After deploying, you need to set up the database schema:

```bash
# If running from source
pnpm --filter @repo/db migrate:deploy
```
If you use the SeaStack docker image, the migrations are automatically applied when the container starts.


